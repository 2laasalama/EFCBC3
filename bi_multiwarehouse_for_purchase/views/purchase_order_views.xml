<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Inherit Purchase Order Form view -->
    <record id='purchase_order_view_form' model='ir.ui.view'>
        <field name='name'>inherit.purchase.order.form.view</field>
        <field name='model'>purchase.order</field>
        <field name='inherit_id' ref='purchase.purchase_order_form'/>
        <field name='arch' type='xml'>

              <xpath expr="//div[@name='reminder']" position="after">
                    <field name="is_multiwarehouse"/>
                </xpath>
            <xpath expr="//field[@name='order_line']/tree/field[@name='product_id']"
                   position="after">
                <field name="warehouses_id"
                       attrs="{'column_invisible': [('parent.is_multiwarehouse', '=', False)],'required': [('parent.is_multiwarehouse', '=', True)]}"
                       options="{'no_create': True, 'no_create_edit':True}"/>
            </xpath>
        </field>
    </record>
</odoo>
